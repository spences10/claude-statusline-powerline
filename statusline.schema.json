{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/spences10/claude-statusline-powerline/main/statusline.schema.json",
  "title": "Claude Statusline Powerline Configuration",
  "description": "Configuration schema for Claude Code statusline with powerline symbols, git integration, and session tracking",
  "definitions": {
    "ColorTheme": {
      "enum": [
        "dark",
        "electric",
        "night-owl"
      ],
      "type": "string"
    },
    "DisplayConfig": {
      "properties": {
        "lines": {
          "items": {
            "$ref": "#/definitions/DisplayLine"
          },
          "type": "array"
        }
      },
      "required": [
        "lines"
      ],
      "type": "object"
    },
    "DisplayLine": {
      "properties": {
        "segments": {
          "$ref": "#/definitions/LineSegments"
        }
      },
      "required": [
        "segments"
      ],
      "type": "object"
    },
    "FontProfile": {
      "enum": [
        "nerd-font",
        "powerline"
      ],
      "type": "string"
    },
    "LineSegments": {
      "properties": {
        "directory": {
          "type": "boolean"
        },
        "git": {
          "type": "boolean"
        },
        "model": {
          "type": "boolean"
        },
        "session": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "Record<GitState,SeparatorStyle>": {
      "properties": {
        "ahead": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "behind": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "clean": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "conflicts": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "dirty": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "staged": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "untracked": {
          "$ref": "#/definitions/SeparatorStyle"
        }
      },
      "required": [
        "ahead",
        "behind",
        "clean",
        "conflicts",
        "dirty",
        "staged",
        "untracked"
      ],
      "type": "object"
    },
    "SegmentConfig": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "order": {
          "type": "number"
        },
        "style": {
          "$ref": "#/definitions/SegmentStyleConfig"
        },
        "type": {
          "$ref": "#/definitions/SegmentType"
        }
      },
      "required": [
        "enabled",
        "order",
        "type"
      ],
      "type": "object"
    },
    "SegmentStyleConfig": {
      "properties": {
        "bg_color": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Background color in hex format (e.g., #1e40af)",
          "examples": [
            "#1e40af",
            "#059669",
            "#dc2626"
          ]
        },
        "fg_color": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Foreground (text) color in hex format (e.g., #ffffff)",
          "examples": [
            "#ffffff",
            "#000000"
          ]
        },
        "icons": {
          "additionalProperties": {
            "type": "string",
            "description": "Additional custom icon mappings"
          },
          "type": "object",
          "description": "Custom icons for segment symbols",
          "properties": {
            "folder": {
              "type": "string",
              "description": "Directory/folder icon",
              "examples": [
                "üìÅ",
                "üóÇÔ∏è",
                "üìÇ",
                "\\uF07B"
              ]
            },
            "branch": {
              "type": "string",
              "description": "Git branch icon",
              "examples": [
                "\\uE0A0",
                "üåø",
                "üå≥",
                "\\uF126"
              ]
            },
            "clean": {
              "type": "string",
              "description": "Clean git status icon",
              "examples": [
                "‚úì",
                "‚úÖ",
                "\\u2713",
                "\\uF00C"
              ]
            },
            "dirty": {
              "type": "string",
              "description": "Dirty git status icon",
              "examples": [
                "¬±",
                "‚ö†Ô∏è",
                "\\u00B1",
                "\\uF071"
              ]
            },
            "ai": {
              "type": "string",
              "description": "AI/Model icon",
              "examples": [
                "‚ö°",
                "ü§ñ",
                "üß†",
                "\\uE007"
              ]
            },
            "cost": {
              "type": "string",
              "description": "Session cost/usage icon",
              "examples": [
                "üí∞",
                "üí≤",
                "ü™ô",
                "\\uF0D6"
              ]
            }
          }
        },
        "separator": {
          "properties": {
            "color": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Separator color in hex format",
              "examples": [
                "#1e40af",
                "#059669"
              ]
            },
            "style": {
              "$ref": "#/definitions/SeparatorStyle"
            }
          },
          "type": "object"
        },
        "truncation_length": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "SegmentType": {
      "enum": [
        "directory",
        "git",
        "model",
        "session"
      ],
      "type": "string"
    },
    "SegmentVisibility": {
      "properties": {
        "directory": {
          "type": "boolean"
        },
        "git": {
          "type": "boolean"
        },
        "model": {
          "type": "boolean"
        },
        "session": {
          "type": "boolean"
        }
      },
      "required": [
        "directory",
        "git",
        "model",
        "session"
      ],
      "type": "object"
    },
    "SegmentsConfiguration": {
      "properties": {
        "segments": {
          "items": {
            "$ref": "#/definitions/SegmentConfig"
          },
          "type": "array"
        }
      },
      "required": [
        "segments"
      ],
      "type": "object"
    },
    "SeparatorConfig": {
      "properties": {
        "directory": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git": {
          "$ref": "#/definitions/Record<GitState,SeparatorStyle>"
        },
        "model": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "session": {
          "$ref": "#/definitions/SeparatorStyle"
        }
      },
      "required": [
        "directory",
        "git",
        "model",
        "session"
      ],
      "type": "object"
    },
    "SeparatorProfile": {
      "properties": {
        "default": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "overrides": {
          "allOf": [
            {
              "properties": {
                "directory": {
                  "$ref": "#/definitions/SeparatorStyle"
                },
                "model": {
                  "$ref": "#/definitions/SeparatorStyle"
                },
                "session": {
                  "$ref": "#/definitions/SeparatorStyle"
                }
              },
              "type": "object"
            },
            {
              "$ref": "#/definitions/{git_clean?:SeparatorStyle;git_dirty?:SeparatorStyle;git_ahead?:SeparatorStyle;git_behind?:SeparatorStyle;git_conflicts?:SeparatorStyle;git_staged?:SeparatorStyle;git_untracked?:SeparatorStyle;}"
            }
          ]
        }
      },
      "type": "object"
    },
    "SeparatorStyle": {
      "enum": [
        "angly",
        "angly2",
        "curvy",
        "double_chevron",
        "flame",
        "lightning",
        "none",
        "thick",
        "thin",
        "wave"
      ],
      "type": "string",
      "description": "Visual style of powerline separators between segments"
    },
    "ThemeType": {
      "enum": [
        "angular",
        "curvy",
        "custom",
        "electric",
        "expressive",
        "minimal",
        "subtle"
      ],
      "type": "string"
    },
    "TruncationConfig": {
      "properties": {
        "directory": {
          "type": "number"
        },
        "directory_length": {
          "type": "number"
        },
        "git": {
          "type": "number"
        },
        "git_length": {
          "type": "number"
        },
        "model": {
          "type": "number"
        },
        "model_length": {
          "type": "number"
        },
        "session": {
          "type": "number"
        },
        "session_length": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "{git_clean?:SeparatorStyle;git_dirty?:SeparatorStyle;git_ahead?:SeparatorStyle;git_behind?:SeparatorStyle;git_conflicts?:SeparatorStyle;git_staged?:SeparatorStyle;git_untracked?:SeparatorStyle;}": {
      "properties": {
        "git_ahead": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git_behind": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git_clean": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git_conflicts": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git_dirty": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git_staged": {
          "$ref": "#/definitions/SeparatorStyle"
        },
        "git_untracked": {
          "$ref": "#/definitions/SeparatorStyle"
        }
      },
      "type": "object"
    }
  },
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference for IntelliSense support"
    },
    "color_theme": {
      "$ref": "#/definitions/ColorTheme",
      "description": "Color theme for segment backgrounds and text",
      "enum": [
        "dark",
        "electric",
        "night-owl"
      ],
      "default": "dark"
    },
    "current_theme": {
      "description": "Internal property populated with actual theme object - not for user configuration"
    },
    "display": {
      "$ref": "#/definitions/DisplayConfig",
      "description": "Configure multiline layout and which segments appear on each line"
    },
    "font_profile": {
      "$ref": "#/definitions/FontProfile",
      "description": "Font compatibility profile determining available separator symbols",
      "enum": [
        "powerline",
        "nerd-font"
      ],
      "default": "powerline"
    },
    "segment_config": {
      "$ref": "#/definitions/SegmentsConfiguration",
      "description": "Advanced segment configuration with custom ordering, styling, and granular control"
    },
    "segments": {
      "$ref": "#/definitions/SegmentVisibility",
      "description": "Control which segments are visible in the statusline"
    },
    "separatorProfile": {
      "$ref": "#/definitions/SeparatorProfile",
      "description": "Override separator styles with predefined profiles like 'all-curvy', 'mixed-dynamic', etc."
    },
    "separators": {
      "$ref": "#/definitions/SeparatorConfig",
      "description": "Configure separator styles for different segments and states"
    },
    "theme": {
      "$ref": "#/definitions/ThemeType",
      "description": "Separator theme preset determining visual style",
      "enum": [
        "minimal",
        "expressive",
        "subtle",
        "electric",
        "curvy",
        "angular"
      ],
      "default": "minimal"
    },
    "truncation": {
      "$ref": "#/definitions/TruncationConfig"
    }
  },
  "type": "object",
  "additionalProperties": false,
  "examples": [
    {
      "color_theme": "dark",
      "theme": "minimal",
      "segments": {
        "model": true,
        "directory": true,
        "git": true,
        "session": true
      }
    },
    {
      "display": {
        "lines": [
          {
            "segments": {
              "directory": true,
              "git": true,
              "model": true
            }
          },
          {
            "segments": {
              "session": true
            }
          }
        ]
      },
      "color_theme": "electric",
      "theme": "expressive"
    }
  ]
}